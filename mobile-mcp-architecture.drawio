<mxfile host="app.diagrams.net" modified="2024-01-19T00:00:00.000Z" agent="Mobile MCP AI" version="22.1.0">
  <diagram name="系统架构图" id="mobile-mcp-architecture">
    <mxGraphModel dx="2000" dy="1200" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- 背景 -->
        <mxCell id="bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="0" y="0" width="2000" height="1400" as="geometry" />
        </mxCell>
        
        <!-- 标题 -->
        <mxCell id="title" value="Mobile MCP AI 系统架构图" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="600" y="30" width="800" height="50" as="geometry" />
        </mxCell>
        
        <!-- ========== 第1层：用户层 ========== -->
        <mxCell id="layer1-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="150" y="120" width="1700" height="140" as="geometry" />
        </mxCell>
        <mxCell id="layer1-title" value="用户层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="180" y="135" width="100" height="35" as="geometry" />
        </mxCell>
        
        <mxCell id="user1" value="开发人员" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#42A5F5;strokeColor=#1976D2;strokeWidth=2;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="400" y="160" width="50" height="70" as="geometry" />
        </mxCell>
        <mxCell id="user2" value="测试人员" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#42A5F5;strokeColor=#1976D2;strokeWidth=2;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="650" y="160" width="50" height="70" as="geometry" />
        </mxCell>
        <mxCell id="user3" value="QA工程师" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#42A5F5;strokeColor=#1976D2;strokeWidth=2;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="900" y="160" width="50" height="70" as="geometry" />
        </mxCell>
        <mxCell id="user4" value="产品经理" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#42A5F5;strokeColor=#1976D2;strokeWidth=2;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1150" y="160" width="50" height="70" as="geometry" />
        </mxCell>

        <!-- ========== 第2层：AI接口层 ========== -->
        <mxCell id="layer2-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="150" y="300" width="1700" height="160" as="geometry" />
        </mxCell>
        <mxCell id="layer2-title" value="AI接口层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#7B1FA2;" vertex="1" parent="1">
          <mxGeometry x="180" y="315" width="120" height="35" as="geometry" />
        </mxCell>
        
        <mxCell id="cursor-ai" value="Cursor AI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#7B1FA2;strokeWidth=2;fontSize=18;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="400" y="360" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cursor-vision" value="视觉识别" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BA68C8;strokeColor=#7B1FA2;strokeWidth=2;fontSize=16;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="720" y="360" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cursor-nlp" value="自然语言理解" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BA68C8;strokeColor=#7B1FA2;strokeWidth=2;fontSize=16;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="920" y="360" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cursor-code" value="代码生成" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BA68C8;strokeColor=#7B1FA2;strokeWidth=2;fontSize=16;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1120" y="360" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- ========== 第3层：MCP服务层 ========== -->
        <mxCell id="layer3-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="150" y="500" width="1700" height="200" as="geometry" />
        </mxCell>
        <mxCell id="layer3-title" value="MCP服务层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#F57F17;" vertex="1" parent="1">
          <mxGeometry x="180" y="515" width="140" height="35" as="geometry" />
        </mxCell>
        
        <mxCell id="mcp-server" value="MCP Server&#xa;(mcp_server.py)&#xa;30+ 工具" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFD54F;strokeColor=#F57F17;strokeWidth=2;fontSize=18;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="400" y="560" width="250" height="110" as="geometry" />
        </mxCell>

        <!-- MCP工具分类 -->
        <mxCell id="tools-group1" value="截图工具" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;strokeWidth=2;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="720" y="560" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-group2" value="点击工具" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;strokeWidth=2;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="870" y="560" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-group3" value="输入工具" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;strokeWidth=2;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1020" y="560" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-group4" value="导航工具" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;strokeWidth=2;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1170" y="560" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-group5" value="应用管理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;strokeWidth=2;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="720" y="620" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-group6" value="弹窗处理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;strokeWidth=2;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="870" y="620" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-group7" value="断言工具" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;strokeWidth=2;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1020" y="620" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-group8" value="脚本生成" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;strokeWidth=2;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1170" y="620" width="120" height="45" as="geometry" />
        </mxCell>
        
        <!-- ========== 第4层：工具实现层 ========== -->
        <mxCell id="layer4-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="150" y="740" width="1700" height="200" as="geometry" />
        </mxCell>
        <mxCell id="layer4-title" value="工具实现层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#388E3C;" vertex="1" parent="1">
          <mxGeometry x="180" y="755" width="140" height="35" as="geometry" />
        </mxCell>
        
        <mxCell id="basic-tools" value="BasicMobileToolsLite&#xa;(basic_tools_lite.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#388E3C;strokeWidth=2;fontSize=18;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="400" y="800" width="250" height="110" as="geometry" />
        </mxCell>

        <!-- 核心功能模块 -->
        <mxCell id="module1" value="截图系统&#xa;• 压缩截图&#xa;• SoM标注&#xa;• 网格坐标" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=13;align=left;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="720" y="790" width="150" height="130" as="geometry" />
        </mxCell>
        <mxCell id="module2" value="定位策略&#xa;• 控件树定位&#xa;• SoM编号&#xa;• 百分比坐标&#xa;• 模板匹配" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=13;align=left;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="900" y="790" width="150" height="130" as="geometry" />
        </mxCell>
        <mxCell id="module3" value="弹窗处理&#xa;• 控件树查找&#xa;• 模板匹配&#xa;• 位置推测" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=13;align=left;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1080" y="790" width="150" height="130" as="geometry" />
        </mxCell>
        <mxCell id="module4" value="脚本生成&#xa;• 操作录制&#xa;• pytest生成&#xa;• 跨设备兼容" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=13;align=left;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1260" y="790" width="150" height="130" as="geometry" />
        </mxCell>
        
        <!-- 模板匹配器 -->
        <mxCell id="template-matcher" value="TemplateMatcher&#xa;(template_matcher.py)&#xa;OpenCV 模板匹配" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#388E3C;strokeWidth=2;fontSize=15;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1460" y="800" width="200" height="110" as="geometry" />
        </mxCell>
        
        <!-- ========== 第5层：客户端抽象层 ========== -->
        <mxCell id="layer5-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="150" y="980" width="1700" height="180" as="geometry" />
        </mxCell>
        <mxCell id="layer5-title" value="客户端抽象层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#E65100;" vertex="1" parent="1">
          <mxGeometry x="180" y="995" width="180" height="35" as="geometry" />
        </mxCell>
        
        <!-- Android Client -->
        <mxCell id="android-client" value="MobileClient&#xa;(mobile_client.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#E65100;strokeWidth=2;fontSize=18;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="400" y="1040" width="220" height="90" as="geometry" />
        </mxCell>

        <mxCell id="android-apis" value="统一API&#xa;• snapshot()&#xa;• click()&#xa;• type_text()&#xa;• swipe()&#xa;• launch_app()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;strokeWidth=2;fontSize=13;align=left;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="660" y="1030" width="160" height="110" as="geometry" />
        </mxCell>
        
        <!-- iOS Client -->
        <mxCell id="ios-client" value="IOSClientWDA&#xa;(ios_client_wda.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#E65100;strokeWidth=2;fontSize=18;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="860" y="1040" width="220" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ios-apis" value="统一API&#xa;• snapshot()&#xa;• click()&#xa;• type_text()&#xa;• swipe()&#xa;• launch_app()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;strokeWidth=2;fontSize=13;align=left;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1120" y="1030" width="160" height="110" as="geometry" />
        </mxCell>
        
        <!-- 智能验证 -->
        <mxCell id="smart-verify" value="智能验证&#xa;• 页面变化检测&#xa;• 操作历史记录&#xa;• 应用跳转监测" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;strokeWidth=2;fontSize=13;align=left;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1320" y="1030" width="160" height="110" as="geometry" />
        </mxCell>
        
        <!-- ========== 第6层：设备管理层 ========== -->
        <mxCell id="layer6-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00695C;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="150" y="1200" width="1700" height="160" as="geometry" />
        </mxCell>
        <mxCell id="layer6-title" value="设备管理层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#00695C;" vertex="1" parent="1">
          <mxGeometry x="180" y="1215" width="160" height="35" as="geometry" />
        </mxCell>
        
        <!-- Android Device Manager -->
        <mxCell id="android-mgr" value="DeviceManager&#xa;(device_manager.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4DB6AC;strokeColor=#00695C;strokeWidth=2;fontSize=17;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="400" y="1260" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="android-features" value="• ADB连接&#xa;• 设备列表&#xa;• 无障碍服务&#xa;• 屏幕方向锁定" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#80CBC4;strokeColor=#00695C;strokeWidth=2;fontSize=13;align=left;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="660" y="1255" width="160" height="90" as="geometry" />
        </mxCell>

        <!-- iOS Device Manager -->
        <mxCell id="ios-mgr" value="IOSDeviceManagerWDA&#xa;(ios_device_manager_wda.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4DB6AC;strokeColor=#00695C;strokeWidth=2;fontSize=17;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="860" y="1260" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ios-features" value="• tidevice连接&#xa;• WDA启动&#xa;• 设备列表&#xa;• 会话管理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#80CBC4;strokeColor=#00695C;strokeWidth=2;fontSize=13;align=left;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1140" y="1255" width="160" height="90" as="geometry" />
        </mxCell>
        
        <!-- ========== 底层依赖 ========== -->
        <mxCell id="deps-title" value="底层依赖" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#455A64;" vertex="1" parent="1">
          <mxGeometry x="180" y="1380" width="120" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="dep1" value="uiautomator2" style="ellipse;whiteSpace=wrap;html=1;fillColor=#78909C;strokeColor=#37474F;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="350" y="1380" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dep2" value="adbutils" style="ellipse;whiteSpace=wrap;html=1;fillColor=#78909C;strokeColor=#37474F;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="530" y="1380" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dep3" value="tidevice" style="ellipse;whiteSpace=wrap;html=1;fillColor=#78909C;strokeColor=#37474F;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="710" y="1380" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dep4" value="facebook-wda" style="ellipse;whiteSpace=wrap;html=1;fillColor=#78909C;strokeColor=#37474F;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="890" y="1380" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dep5" value="Pillow" style="ellipse;whiteSpace=wrap;html=1;fillColor=#78909C;strokeColor=#37474F;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1070" y="1380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dep6" value="OpenCV" style="ellipse;whiteSpace=wrap;html=1;fillColor=#78909C;strokeColor=#37474F;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1230" y="1380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dep7" value="MCP SDK" style="ellipse;whiteSpace=wrap;html=1;fillColor=#78909C;strokeColor=#37474F;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1390" y="1380" width="120" height="60" as="geometry" />
        </mxCell>

        <!-- ========== 右侧：核心特性 ========== -->
        <mxCell id="features-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1720" y="300" width="140" height="1060" as="geometry" />
        </mxCell>
        <mxCell id="features-title" value="核心特性" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#388E3C;" vertex="1" parent="1">
          <mxGeometry x="1730" y="320" width="120" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="f1" value="零AI密钥" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="370" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f2" value="跨平台" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="440" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f3" value="智能定位" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="510" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f4" value="自动验证" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="580" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f5" value="脚本录制" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="650" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f6" value="弹窗处理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="720" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f7" value="压缩截图" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="790" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f8" value="SoM标注" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="860" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f9" value="模板匹配" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="930" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f10" value="开箱即用" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#388E3C;strokeWidth=2;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1735" y="1000" width="110" height="50" as="geometry" />
        </mxCell>

        <!-- ========== 连接线 ========== -->
        
        <!-- 用户 -> Cursor AI -->
        <mxCell id="arrow1" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#7B1FA2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="user2" target="cursor-ai">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="675" y="280" as="sourcePoint" />
            <mxPoint x="525" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow1-label" value="自然语言指令" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#7B1FA2;fontStyle=1;labelBackgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow1">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="40" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Cursor AI -> MCP Server -->
        <mxCell id="arrow2" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#F57F17;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="cursor-ai" target="mcp-server">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="525" y="480" as="sourcePoint" />
            <mxPoint x="525" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow2-label" value="MCP 工具调用" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#F57F17;fontStyle=1;labelBackgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow2">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="40" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- MCP Server -> BasicTools -->
        <mxCell id="arrow3" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#388E3C;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="mcp-server" target="basic-tools">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="525" y="720" as="sourcePoint" />
            <mxPoint x="525" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow3-label" value="工具路由" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#388E3C;fontStyle=1;labelBackgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow3">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="30" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- BasicTools -> Android Client -->
        <mxCell id="arrow4" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#E65100;exitX=0.3;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="basic-tools" target="android-client">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="475" y="960" as="sourcePoint" />
            <mxPoint x="510" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- BasicTools -> iOS Client -->
        <mxCell id="arrow5" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#E65100;exitX=0.7;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="basic-tools" target="ios-client">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="575" y="960" as="sourcePoint" />
            <mxPoint x="970" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Android Client -> Device Manager -->
        <mxCell id="arrow6" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#00695C;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="android-client" target="android-mgr">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="510" y="1180" as="sourcePoint" />
            <mxPoint x="510" y="1260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- iOS Client -> Device Manager -->
        <mxCell id="arrow7" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#00695C;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ios-client" target="ios-mgr">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="970" y="1180" as="sourcePoint" />
            <mxPoint x="980" y="1260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 反馈箭头：设备 -> Cursor AI -->
        <mxCell id="arrow-feedback" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=3;strokeColor=#1976D2;dashed=1;dashPattern=8 8;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="400" as="sourcePoint" />
            <mxPoint x="120" y="1300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-feedback-label" value="截图/状态反馈" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#1976D2;fontStyle=1;labelBackgroundColor=#FFFFFF;rotation=90;" vertex="1" connectable="0" parent="arrow-feedback">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="0" y="100" as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- ========== 数据流程说明 ========== -->
        <mxCell id="flow-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1976D2;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1520" y="120" width="180" height="260" as="geometry" />
        </mxCell>
        <mxCell id="flow-title" value="数据流程" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="1540" y="135" width="140" height="30" as="geometry" />
        </mxCell>

        <mxCell id="flow1" value="1️⃣ 自然语言" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=13;fontColor=#1976D2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1535" y="180" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="flow2" value="2️⃣ MCP 调用" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=13;fontColor=#1976D2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1535" y="220" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="flow3" value="3️⃣ 工具执行" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=13;fontColor=#1976D2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1535" y="260" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="flow4" value="4️⃣ 设备操作" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=13;fontColor=#1976D2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1535" y="300" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="flow5" value="5️⃣ 结果返回" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=13;fontColor=#1976D2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1535" y="340" width="150" height="30" as="geometry" />
        </mxCell>
        
        <!-- ========== 图例 ========== -->
        <mxCell id="legend-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#37474F;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1520" y="1100" width="180" height="260" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="图例说明" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#37474F;" vertex="1" parent="1">
          <mxGeometry x="1540" y="1115" width="140" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="leg1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1535" y="1160" width="35" height="25" as="geometry" />
        </mxCell>
        <mxCell id="leg1-text" value="用户层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1580" y="1160" width="100" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="leg2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1535" y="1195" width="35" height="25" as="geometry" />
        </mxCell>
        <mxCell id="leg2-text" value="AI接口层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1580" y="1195" width="100" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="leg3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1535" y="1230" width="35" height="25" as="geometry" />
        </mxCell>
        <mxCell id="leg3-text" value="MCP服务层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1580" y="1230" width="100" height="25" as="geometry" />
        </mxCell>

        <mxCell id="leg4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1535" y="1265" width="35" height="25" as="geometry" />
        </mxCell>
        <mxCell id="leg4-text" value="工具实现层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1580" y="1265" width="100" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="leg5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1535" y="1300" width="35" height="25" as="geometry" />
        </mxCell>
        <mxCell id="leg5-text" value="客户端层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1580" y="1300" width="100" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="leg6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00695C;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1535" y="1335" width="35" height="25" as="geometry" />
        </mxCell>
        <mxCell id="leg6-text" value="设备管理层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="1580" y="1335" width="100" height="25" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
